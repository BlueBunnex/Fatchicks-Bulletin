<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Prompt Crafter</title>

    <script>
        const artists = [
            { display_name: "blushyspicy",    value: "blushyspicy(artist)", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgK8Lx11D2D8azuT1eM_l4GytBvz3OaDgcZg&s" },
            { display_name: "c.cu",           value: "c.cu(artist)", image: "https://cdn.donmai.us/original/17/b1/17b1e5ee5aca849222dc07769ce8fc1c.jpg" },
            { display_name: "betterwithsalt", value: "betterwithsalt(artist)", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNL5aCFvwGuNr21hmh1k_vZQkG6PUwbGZc1Q&s" },
            { display_name: "lazorchef",      value: "lazorchef(artist)", image: "https://img3.gelbooru.com/images/33/47/33471ecc92fe4d837008060b655680a7.jpeg" },
            { display_name: "kipteitei",      value: "kipteitei(artist)", image: "https://us.rule34.xxx//images/1369/df94d57ec4183e3d1388be87554e6800.jpeg?11567121" },
            { display_name: "spellsx",        value: "spellsx(artist)", image: "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/f36db054-75cc-4adf-be52-8b8e930ce06a/dfsa3l6-c79e5776-2d3a-47a3-b814-5379f05d57d1.jpg/v1/fill/w_861,h_928,q_70,strp/_as4_7__the_hot_neighbor_by_spellsx_dfsa3l6-pre.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MjE1NyIsInBhdGgiOiJcL2ZcL2YzNmRiMDU0LTc1Y2MtNGFkZi1iZTUyLThiOGU5MzBjZTA2YVwvZGZzYTNsNi1jNzllNTc3Ni0yZDNhLTQ3YTMtYjgxNC01Mzc5ZjA1ZDU3ZDEuanBnIiwid2lkdGgiOiI8PTIwMDAifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.T_vWlVrU2mS2V_vzKHspj9Ffkh6VDLFFWLSTgs53iAc" },
        ];

        const characters = [
            { display_name: "Hatsune Miku" },
            { display_name: "Lucoa", value: "lucoa (dragon maid)" }
        ];

        const clothing = [
            { display_name: "Default for character" },
            { display_name: "Nude" },
            { display_name: "Cat Maid", value: "cat_lingerie, cat_cutout, cat_ear_panties, maid outfit, cat maid cutout dress" },
            { display_name: "Pajamas" }
        ];

        function init() {

            // load artists
            const artistsArea = document.getElementById("artists");
            
            for (const i in artists) {
                
                artistsArea.innerHTML += `
                    <input type="checkbox" oninput="craft()" id="artist${ i }" value="${ artists[i].value }">
                    <label for="artist${ i }" style="background-image: url('${ artists[i].image }');">${ artists[i].display_name }</label>
                `;
            }

            // load characters

            // load clothing
        }
        

        
        const sizeHeirarchy = [ "small", "slightly big", "big", "slightly huge", "huge", "slightly massive", "massive", "hyper" ]; // giant?

        function getSize(value) {
            return sizeHeirarchy[parseInt((value * sizeHeirarchy.length - 1) / 100.0)];
        }
        
        // value is in range [1, 100]
        function constructBreastsPrompt(value) {

            return getSize(value) + " breasts";
        }

        function constructBellyPrompt(value) {

            // belly sticking out, round belly, hourglass, narrow waist
            
            return getSize(value) + " belly";
        }
        
        function constructHipsPrompt(value) {

            // (thick thighs:1.5), (big ass), (hyper hips:1.5)
            
            return getSize(value) + " hips";
        }
        
        function craft() {

            const output = document.getElementById("output");
            output.value = "";
            
            output.value += "/* quality */\nbest quality, high rating, (high rating), absurd res, high res, detailed, masterpiece, detailed face, intricate detail, sophisticated detail, exquisite detail, absurd resolution, correct anatomy, 8k, (highly detailed face), highly detailed skin texture, gorgeous, perfect hands,";

            output.value += `\n\n/* composition */\n${ document.querySelector('input[name="girl-count"]:checked').value },`;
            
            output.value += "\n\n/* artists */";
            for (const checkbox of document.getElementById("artists").children) {

                if (checkbox.checked)
                    output.value += "\n" + checkbox.value + ",";
            }
            
            output.value += "\n\n/* design */\n";
            output.value += document.getElementById("design").value + ",";

            output.value += "\n\n/* figure */\n(";
            output.value += constructBreastsPrompt(document.getElementById("breasts-thickness").value) + ", ";
            output.value += constructBellyPrompt(document.getElementById("belly-thickness").value) + ", ";
            output.value += constructHipsPrompt(document.getElementById("hips-thickness").value) + ":1.3)";
        }
    </script>

    <style>
        body { font-family: sans-serif; display: grid; grid-template-columns: 1fr 2fr; gap: 1em; }
        h3 { border-bottom: 1px solid grey; }
        
        input[type="checkbox"] { display: none; }
        
        label { cursor: pointer; filter: brightness(0.5); transition-duration: 0.2s; border: 1px solid black; border-radius: 4px; display: flex; justify-content: center; align-items: center; font-size: 1.2em; font-weight: 700; text-shadow: 0 0 10px white; background-color: #eee; flex: 0 0 180px; aspect-ratio: 1; background-position: center; background-size: cover; overflow: hidden; }
        input[type="checkbox"]:checked + label { filter: brightness(1); }
    </style>
</head>
<body onload="init();">

    <textarea readonly id="output" style="padding: 1em; resize: none; font-size: smaller; border: 1px solid black;"></textarea>

    <div>
        <h3>Meta</h3>
        include comments/linebreaks
        
        <h3>Composition</h3>

        <!-- maybe a switch instead idk -->
        <input type="radio" id="1girl" name="girl-count" value="1girl" checked>
        <label for="1girl">1girl</label><br>
        <input type="radio" id="2girl" name="girl-count" value="2girl">
        <label for="2girl">2girl</label><br>
        
        angle, mood, pose/action
    
        <h3>Scene</h3>
        Bedroom, beach, etc
        
        <h3>Artists</h3>
        <div style="overflow-x: scroll;">
            <div id="artists" style="display: flex; gap: 1em;"></div>
        </div>
    
        <h3>Character</h3>
    
        <h3>Clothing</h3>
        
        <h3>temp</h3>
        <textarea id="design" rows="8" style="max-width: 99%; min-width: 99%;" placeholder="red hair, pink shirt, on the beach..." oninput="craft()"></textarea>
    
        <h3>Figure</h3>
        checkboxes: cellulite, stretch marks, deep cleavage
        <table>
            <tr>
                <td>Breasts:</td>
                <td>
                    <input id="breasts-thickness" type="range" min="1" max="100" value="20" oninput="craft()">
                </td>
            </tr>
            <tr>
                <td>Belly:</td>
                <td>
                    <input id="belly-thickness" type="range" min="1" max="100" value="20" oninput="craft()">
                </td>
            </tr>
            <tr>
                <td>Hips:</td>
                <td>
                    <input id="hips-thickness" type="range" min="1" max="100" value="20" oninput="craft()">
                </td>
            </tr>
            fat legs/knees/calves slider?
        </table>
    </div>
    
</body>
</html>
