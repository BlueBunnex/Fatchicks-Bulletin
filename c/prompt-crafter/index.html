<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Prompt Crafter</title>

    <script>
        // const artists = [
        //     { display_name: "blushyspicy",    value: "blushyspicy(artist)", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgK8Lx11D2D8azuT1eM_l4GytBvz3OaDgcZg&s" },
        //     { display_name: "c.cu",           value: "c.cu(artist)", image: "https://cdn.donmai.us/original/17/b1/17b1e5ee5aca849222dc07769ce8fc1c.jpg" },
        //     { display_name: "betterwithsalt", value: "betterwithsalt(artist)", image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNL5aCFvwGuNr21hmh1k_vZQkG6PUwbGZc1Q&s" },
        //     { display_name: "lazorchef",      value: "lazorchef(artist)", image: "https://img3.gelbooru.com/images/33/47/33471ecc92fe4d837008060b655680a7.jpeg" },
        //     { display_name: "kipteitei",      value: "kipteitei(artist)", image: "https://us.rule34.xxx//images/1369/df94d57ec4183e3d1388be87554e6800.jpeg?11567121" },
        //     { display_name: "spellsx",        value: "spellsx(artist)", image: "https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/f36db054-75cc-4adf-be52-8b8e930ce06a/dfsa3l6-c79e5776-2d3a-47a3-b814-5379f05d57d1.jpg/v1/fill/w_861,h_928,q_70,strp/_as4_7__the_hot_neighbor_by_spellsx_dfsa3l6-pre.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MjE1NyIsInBhdGgiOiJcL2ZcL2YzNmRiMDU0LTc1Y2MtNGFkZi1iZTUyLThiOGU5MzBjZTA2YVwvZGZzYTNsNi1jNzllNTc3Ni0yZDNhLTQ3YTMtYjgxNC01Mzc5ZjA1ZDU3ZDEuanBnIiwid2lkdGgiOiI8PTIwMDAifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.T_vWlVrU2mS2V_vzKHspj9Ffkh6VDLFFWLSTgs53iAc" },
        // ];

        const sizeHeirarchy = [ "small", "slightly big", "big", "slightly huge", "huge", "slightly massive", "massive", "hyper" ]; // giant?

        function getSize(value) {
            return sizeHeirarchy[parseInt((value * sizeHeirarchy.length - 1) / 100.0)];
        }
        
        // value is in range [1, 100]
        function constructBreastsPrompt(value) {

            return getSize(value) + " breasts";
        }

        function constructBellyPrompt(value) {

            if (value == 1)
                return "no belly, hourglass, narrow waist, slim";
            
            if (value < 16)
                return "chubby";

            let extra = "";

            if (value > 80) {
                extra += "belly sticking out, round belly, ";
            }
            
            return extra + getSize(value) + " belly";
        }
        
        function constructHipsPrompt(value) {

            let extra = "";

            if (value > 50) {
                extra += "(thick thighs:1." + parseInt(value / 10 - 5) + "), ";
            }

            if (value > 80) {
                extra += "big ass, ";
            }
            
            return extra + getSize(value) + " hips";
        }

        function constructLegsPrompt(value) {

            if (value == 1) {
                return "slender legs";
            }

            let extra = "";

            if (value > 50) {
                extra += "(fat legs, fat knees, fat calves:1." + parseInt(value / 10 - 5) + "), ";
            }
            
            return extra + getSize(value) + " calves";
        }
        
        function craft() {

            const output = document.getElementById("output");
            output.value = "";

            const comments = document.getElementById("comments").checked;

            if (comments)
                output.value += "/* Quality */\n";
            
            output.value += "best quality, high rating, (high rating), absurd res, high res, detailed, masterpiece, detailed face, intricate detail, sophisticated detail, exquisite detail, absurd resolution, correct anatomy, 8k, (highly detailed face), highly detailed skin texture, gorgeous, perfect hands, ";
            // masterpiece, best quality, amazing quality, perfect hands, absurdres, 8k
            
            if (comments)
                output.value += "\n\n/* Composition */\n";

            const shot = document.querySelector('input[name="shot"]:checked').value;
            
            output.value += document.getElementById("girl-count").checked ? "2girls, " : "1girl, ";
            output.value += document.querySelector('input[name="view"]:checked').value + ", ";
            output.value += shot + ", ";
            if (document.getElementById("dutch-angle").checked)
                output.value += "dutch angle, ";

            if (comments)
                output.value += "\n\n/* Your stuff */\n";

            output.value += document.getElementById("description").value + ", ";
            
            if (comments)
                output.value += "\n\n/* Figure */\n";
            
            output.value += "("  + constructBreastsPrompt(document.getElementById("breasts-thickness").value);
            output.value += ", " + constructBellyPrompt(document.getElementById("belly-thickness").value);

            if (shot === "full body shot" || shot === "medium shot") {
                
                output.value += ", " + constructHipsPrompt(document.getElementById("hips-thickness").value);

                if (shot === "full body shot") {
                    output.value += ", " + constructLegsPrompt(document.getElementById("legs-thickness").value);
                }
            }

            document.getElementById("hips-section").style.display = (shot === "full body shot" || shot === "medium shot") ? "block" : "none";
            document.getElementById("legs-section").style.display = (shot === "full body shot") ? "block" : "none";

            output.value += ":1.3)";
        }
    </script>

    <style>
        body { font-family: sans-serif; display: grid; grid-template-columns: 1fr 2fr; gap: 1em; }
        h3 { border-bottom: 1px solid grey; }
        svg { vertical-align: middle; }
        
        input.boxy { display: none; }
        input.boxy         + label { cursor: pointer; filter: brightness(0.5); transition-duration: 0.2s; border: 1px solid black; border-radius: 4px; display: flex; justify-content: center; align-items: center; font-size: 1.2em; font-weight: 700; text-shadow: 0 0 10px white; background-color: #eee; flex: 0 0 180px; aspect-ratio: 1; background-position: center; background-size: cover; overflow: hidden; }
        input.boxy:checked + label { filter: brightness(1); }

        input, label { cursor: pointer; }

        input[type="radio"] { display: none; }
        input[type="radio"]         + label { border-bottom: 4px solid lightgrey; padding: calc(0.5em + 4px) 1em 0.5em; display: inline-block; }
        input[type="radio"]:checked + label { border-bottom: 4px solid #2196F3; background: #def; }
        
        /* stole this from w3schools */
        .switch { position: relative; display: inline-block; width: 40px; height: 20px; vertical-align: middle; }
        .switch input { display: none; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: 0.2s; border-radius: 100px; }
        .slider:before { position: absolute; content: ""; border-radius: 100px; height: 12px; width: 12px; left: 4px; bottom: 4px; background-color: white; transition: 0.2s; }
        input:checked + .slider { background-color: #2196F3; }
        input:checked + .slider:before { transform: translateX(20px); }
    </style>
</head>
<body onload="craft();">

    <textarea readonly id="output" style="padding: 1em; resize: none; font-size: smaller; border: 1px solid black;"></textarea>

    <div>
        <h3>Describe your character/scene</h3>

        <textarea id="description" style="padding: 1em; resize: vertical; border: 1px solid black; width: 50%; min-width: 30em; box-sizing: border-box;" oninput="craft()"></textarea>
        
        <h3>Meta</h3>
        
        <label class="switch">
            <input type="checkbox" id="comments" oninput="craft()" checked>
            <span class="slider"></span>
        </label>
        Include comments/linebreaks
        
        <h3>Composition</h3>

        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000"><path d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"/></svg>
        <label class="switch">
            <input type="checkbox" id="girl-count" oninput="craft()">
            <span class="slider"></span>
        </label>
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000"><path d="M40-160v-112q0-34 17.5-62.5T104-378q62-31 126-46.5T360-440q66 0 130 15.5T616-378q29 15 46.5 43.5T680-272v112H40Zm720 0v-120q0-44-24.5-84.5T666-434q51 6 96 20.5t84 35.5q36 20 55 44.5t19 53.5v120H760ZM360-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm400-160q0 66-47 113t-113 47q-11 0-28-2.5t-28-5.5q27-32 41.5-71t14.5-81q0-42-14.5-81T544-792q14-5 28-6.5t28-1.5q66 0 113 47t47 113ZM120-240h480v-32q0-11-5.5-20T580-306q-54-27-109-40.5T360-360q-56 0-111 13.5T140-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T440-640q0-33-23.5-56.5T360-720q-33 0-56.5 23.5T280-640q0 33 23.5 56.5T360-560Zm0 320Zm0-400Z"/></svg>

        <br><br>
        
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000"><path d="M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"/></svg>
        <label class="switch">
            <input type="checkbox" id="dutch-angle" oninput="craft()">
            <span class="slider"></span>
        </label>
        <svg style="transform: rotate(30deg);" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000"><path d="M480-260q75 0 127.5-52.5T660-440q0-75-52.5-127.5T480-620q-75 0-127.5 52.5T300-440q0 75 52.5 127.5T480-260Zm0-80q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM160-120q-33 0-56.5-23.5T80-200v-480q0-33 23.5-56.5T160-760h126l74-80h240l74 80h126q33 0 56.5 23.5T880-680v480q0 33-23.5 56.5T800-120H160Zm0-80h640v-480H638l-73-80H395l-73 80H160v480Zm320-240Z"/></svg>
        
        <br><br>

        <input type="radio" id="view1" name="view" oninput="craft()" value="front view" checked>
        <label for="view1">front view</label>
        <input type="radio" id="view2" name="view" oninput="craft()" value="side view">
        <label for="view2">side view</label>
        <input type="radio" id="view3" name="view" oninput="craft()" value="view from behind">
        <label for="view3">view from behind</label>
        <input type="radio" id="view4" name="view" oninput="craft()" value="view from above">
        <label for="view4">view from above</label>
        <input type="radio" id="view5" name="view" oninput="craft()" value="view from below">
        <label for="view5">view from below</label>
        
        <br><br>

        <input type="radio" id="shot1" name="shot" oninput="craft()" value="head shot">
        <label for="shot1">head shot</label>
        <input type="radio" id="shot2" name="shot" oninput="craft()" value="bust shot">
        <label for="shot2">bust shot</label>
        <input type="radio" id="shot3" name="shot" oninput="craft()" value="medium shot" checked>
        <label for="shot3">medium shot</label>
        <input type="radio" id="shot4" name="shot" oninput="craft()" value="full body shot">
        <label for="shot4">full body shot</label>
    
        <h3>Figure</h3>
        
        <table>
            <tr>
                <td>Breasts:</td>
                <td>
                    <input id="breasts-thickness" type="range" min="1" max="100" value="20" oninput="craft()">
                </td>
            </tr>
            <tr>
                <td>Belly:</td>
                <td>
                    <input id="belly-thickness" type="range" min="1" max="100" value="20" oninput="craft()">
                </td>
            </tr>
            <tr id="hips-section">
                <td>Hips:</td>
                <td>
                    <input id="hips-thickness" type="range" min="1" max="100" value="20" oninput="craft()">
                </td>
            </tr>
            <tr id="legs-section">
                <td>Legs:</td>
                <td>
                    <input id="legs-thickness" type="range" min="1" max="100" value="20" oninput="craft()">
                </td>
            </tr>
        </table>
    </div>
    
</body>
</html>
